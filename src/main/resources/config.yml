# ----------------------------------------------------------------------
# LPC Configuration & Documentation
# ----------------------------------------------------------------------
#
# 1. FORMATTING (MiniMessage)
#    LPC uses Kyori MiniMessage for all colors and decorations.
#    - Legacy codes like '&c' are NOT supported in the config.
#    - Use tags like '<red>', '<bold>', or Hex: '<#FF5555>'.
#    - Gradients: '<gradient:#FF5555:#FFAA00>Text</gradient>'
#    - Hover/Click: '<hover:show_text:"Hi">Click Me</hover>'
#    - PREVIEW: https://webui.advntr.dev/
#
# 2. REGULAR EXPRESSIONS (Regex)
#    The filter system uses Java-style Regex.
#    - TESTER: https://regex101.com/ (Select Java flavor)
#    - Use 'regex:' prefix in blocked-words to enable regex mode.
#    - Example: 'regex:\b(word)\b' matches the exact word only.
#
# 3. CHAT BUBBLES
#    - Requires Minecraft 1.19.4 or newer.
#    - Background Color uses RGBA (Red, Green, Blue, Alpha).
#    - Alpha (0-255) controls transparency.
#
# 4. PLACEHOLDERS
#    - {message}, {name}, {displayname}, {world}
#    - {prefix}, {suffix}, {prefixes}, {suffixes}
#    - {username-color}, {message-color}
# ----------------------------------------------------------------------

# Chat Format
chat-format: "{prefix}{name}<dark_gray> »<reset> {message}"

# Private Message Formats
# Placeholders:
# {message} - the message sent
# {sender} - the sender's name
# {receiver} - the receiver's name
private-message-formats:
  sender: "<gray>You to {receiver}: <white>{message}"
  receiver: "<gray>{sender} to You: <white>{message}"

# Set the format per group.
# Note: Option for more advanced users. Remove comments to run.
group-formats:
#  default: "[default] {name}<dark_gray> »<reset> {message}"
#  admin: "[admin] {name}<dark_gray> »<reset> {message}"

# Set the format per track
# Note: Group formatting takes priority over track formatting, ensure user isn't in a group with corresponding format to apply track format
track-formats:
#  staff_track: "[staff] {name}<dark_gray> »<reset> {message}"
#  donator_track: "{donator_rank} {name}<dark_gray> »<reset> {message}"

# Should the [item] placeholder be enabled
use-item-placeholder: true

# Editing Reload-message
reload-message: "<green>Reloaded LPC Configuration!"

# ----------------------------------------------------------------------
# Chat Channels
# ----------------------------------------------------------------------
channels:
  enabled: true
  default-channel: "global"
  
  # Storage for player channel preferences
  # Options: MEMORY, SQLITE, MYSQL
  storage:
    type: "SQLITE"
    file: "channels.db" # for SQLITE
    mysql:
      host: "localhost"
      port: 3306
      database: "lpc"
      username: "root"
      password: ""
      table-prefix: "lpc_"

  # Channel Definitions
  list:
    global:
      type: "global"
      permission: ""
      format: "{prefix}{name}<dark_gray> »<reset> {message}"
      shortcut: "g" # /g <msg> or /g (switch)
      symbol: "!" # !message sends to global
    staff:
      type: "permission"
      permission: "lpc.channel.staff"
      format: "<red>[Staff] {name}: <white>{message}"
      shortcut: "sc"
      symbol: "#"
    local:
      type: "range"
      range: 100
      format: "<yellow>[L] {name}: <white>{message}"
      shortcut: "l"
      symbol: ""

# ----------------------------------------------------------------------
# Feature Expansions
# ----------------------------------------------------------------------

# 1. Chat Mentions
mentions:
  enabled: true
  format: "<gradient:#FFD700:#FF8C00><b>@{name}</b></gradient>"
  sound: "entity.experience_orb.pickup"
  volume: 1.0
  pitch: 1.0
  tab-complete: true

# 2. Social Spy
social-spy:
  format: "<gradient:#555555:#AAAAAA>[Spy]</gradient> <#AAAAAA>{sender} -> {receiver}: <#FFFFFF>{message}"

# 3. Interactive Player Elements
interactive:
  enabled: true
  click-action: SUGGEST_COMMAND # Options: SUGGEST_COMMAND, RUN_COMMAND, OPEN_URL
  click-value: "/msg {name} "
  hover-text:
    - "<gradient:#AAAAAA:#FFFFFF>Rank: {prefix}</gradient>"
    - "<#AAAAAA>World: <#FFFFFF>{world}"
    - "<#AAAAAA>Click to message!"

# 4. Simple Staff Chat
staff-chat:
  enabled: true
  format: "<gradient:#AA0000:#FF5555>[Staff] {name}:</gradient> <#FF5555>{message}"
  prefix: "#" # Use #message to send to staff chat

# 5. Ignore System
ignore:
  enabled: true
  messages:
    ignored: "<gradient:#FF5555:#AA0000>You are now ignoring {player}.</gradient>"
    unignored: "<gradient:#55FF55:#00AA00>You are no longer ignoring {player}.</gradient>"
    cannot-ignore-self: "<#FF5555>You cannot ignore yourself!"
    already-ignored: "<#FF5555>You are already ignoring {player}."
    not-ignored: "<#FF5555>You are not ignoring {player}."

# 6. Advanced Chat Filter
filter:
  enabled: true
  cooldown: 1.5 # seconds
  anti-discord:
    enabled: true
    regex: "discord(?:\\.gg|app\\.com\\/invite|\\.com\\/invite)\\/[a-zA-Z0-9]+"
    deny-message: "<gradient:#FF5555:#AA0000>Discord invites are not allowed!</gradient>"
  anti-link:
    enabled: true
    regex: "(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)"
    deny-message: "<gradient:#FF5555:#AA0000>Links are not allowed in chat!</gradient>"
  blocked-words:
    - "badword1"
    - "regex:\\b(f[u*]ck)\\b"
  replacement: "****"
  deny-message: "<red>Please wait {time}s before sending another message."

# 7. URL Auto-Highlighting
url-highlighting:
  enabled: true
  format: "<underlined><gradient:#55FFFF:#00AAAA>{url}</gradient></underlined>"
  hover-text: "<#AAAAAA>Click to open: <#FFFFFF>{url}"

# 8. Custom Join/Quit Messages
join-quit-messages:
  enabled: true
  join: "<#AAAAAA>[<#55FF55>+</#55FF55>] <gradient:#55FF55:#FFFFFF>{prefix}{name}</gradient>"
  quit: "<#AAAAAA>[<#FF5555>-</#FF5555>] <gradient:#FF5555:#FFFFFF>{prefix}{name}</gradient>"
  first-join: "<gradient:#FFAA00:#FFD700>Welcome {name} to the server!</gradient>"

# 9. Auto-Announcer (Broadcasts)
announcer:
  enabled: true
  interval: 300 # seconds
  selection-strategy: "ordered" # Options: random, ordered (top to bottom), reverse (bottom to top)
  messages:
    - "<gradient:#55FFFF:#00AAAA>Tip: Use /help to see available commands!</gradient>"
    - "<gradient:#55FF55:#00AA00>Join our Discord: discord.gg/example</gradient>"
    - "<gradient:#FFAA00:#FFD700>Visit our wiki for tutorials!</gradient>"

# 10. Chat Clear Command
chat-clear:
  broadcast: "<gradient:#FF5555:#AA0000>The chat has been cleared by {staff}.</gradient>"
  lines: 100

# 11. Chat Bubbles (Text Display Entities)
chat-bubbles:
  enabled: true
  duration: 5.0 # seconds
  height-offset: 2.8 # blocks above player head
  background-color: "0,0,0,100" # RGBA (0-255)
  see-through: false
  shadow: true
  scale: 1.0
  billboard: "CENTER" # CENTER, VERTICAL, HORIZONTAL, FIXED
  text-wrap-width: 200 # pixels (approx)
  behavior: "replace" # replace, stack
